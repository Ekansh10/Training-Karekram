<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>title</title>
    <script src="script.js"></script>
    <script>
        // var aPromise = fetch("https://jsonplaceholder.typicode.com/posts");
        // aPromise.then( async function(response){
        //     console.log(response);
        //     let dataPromise = response.json();
        //     dataPromise.then(posts => console.log(posts));
        // })

        async function getMEDAta(){ // written above code using async and await
            try{
                var response = await fetch("https://jsonplaceholder.typicode.com/posts", ); // if there is typo error, fetch api will not reject, it would fail only if the internet connection is lost
                // So use if else by knowing if the ok property of the response is false then throw error
                if(response.ok){
                    var posts = await response.json(); // .json() method returns a promise
                    console.log(posts);

                    var list = document.getElementById("postsId");

                    for (const element of posts) {
                        var listItem = document.createElement('li');
                        listItem.innerText = element.id;
                        list.append(listItem);
                    }
                    // Here we can do Dom manipulation
                }
                else{
                    throw new Error("Error aagaya re bava !!");
                }
            }
            catch(error){
                console.log(error);
            }
        }

        getMEDAta();
        
    </script>
</head>
<body>
    <ul id="postsId"></ul>
</body>
</html>